{% extends 'base.html' %}

{% block content %}
  <div class="mt-2">
    <h2>Manage Customer</h2>

    <div class="card my-5">
        <div class="card-body">
          <h5 class="card-title">{{ customer.first_name }} {{ customer.last_name }}</h5>
          <a class="btn btn-primary btn-sm" href="{% url "transaction-create" customer.id %}">Add transaction</a>
        </div>
        <div class="card-footer text-body-secondary">
          Credit Balance - {{ customer.credit_balance }}
        </div>
      </div>

      <h3>Transaction History</h1>
        <table class="table table-striped table-bordered table-hover">
          <thead>
            <tr>
              <th scope="col">TIME</th>
              <th scope="col">AMOUNT</th>
              <th scope="col">DESCRIPTION</th>
            </tr>
          </thead>
          <tbody>
            {% for transaction in transactions %}
              <tr class="align-middle">
                <td>{{ transaction.timestamp|date:"F d, Y" }}</td>
                <td>{{ transaction.amount }}</td>
                <td>{{ transaction.description }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
  </div>
{% endblock content %}